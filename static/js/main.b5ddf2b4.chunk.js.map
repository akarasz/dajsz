{"version":3,"sources":["Button.jsx","Yahtzee/api.js","Home.jsx","Privacy.jsx","Support.jsx","Modal.jsx","Header/NameChangeModal.jsx","Header/Header.jsx","Header/share.png","Header/clipboard-copied.png","Header/clipboard.png","Header/logo.png","Yahtzee/Controller.jsx","Yahtzee/Scores.jsx","Yahtzee/JoinModal.jsx","Yahtzee/Dices/Dices.jsx","Yahtzee/Yahtzee.jsx","App.jsx","index.jsx"],"names":["Button","text","onClick","small","secondary","disabled","className","baseUri","headers","user","Headers","str","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","doNothing","data","join","gameID","onSuccess","fetch","method","then","res","Promise","all","status","json","code","body","Home","name","useContext","AppContext","history","useHistory","get","gameId","push","substring","to","Privacy","href","Support","Modal","showing","handleClose","children","e","stopPropagation","NameChangeModal","show","changeName","useState","input","setInput","handleCancel","trim","handleSave","autoFocus","type","value","onChange","target","onKeyDown","key","InviteButtonChooser","navigator","share","clipboard","ShareButton","title","url","window","location","console","log","catch","error","src","alt","ClipboardButton","copied","setCopied","useEffect","setTimeout","image","writeText","Header","showModal","setShowModal","RollCount","YahtzeeContext","game","data-roll","RollButton","rolling","Players","CurrentPlayer","Round","useParams","length","User","Controller","UPPER_SECTION","id","CATEGORIES","transformData","players","suggestions","currentPlayer","dices","map","category","content","player","scored","ScoreSheet","forEach","row","i","undefined","current","left","c","reduce","a","b","ScoresHeader","isWinner","total","p","scores","Object","values","max","Math","s","ScoreLine","highlight","blink","cell","ScoreCell","suggestion","hint","score","Scores","Dices","lastScore","setLastScore","setSuggestions","rolledAlready","d","Value","includes","entries","v","JoinModal","setShow","updateGame","hasPlayers","joinedAlready","handleNo","Dice","dice","index","clickable","classes","Locked","setRolling","Context","createContext","Yahtzee","setGame","showJoinModal","setShowJoinModal","ws","useRef","fresh","scoreSheetDiff","oldPlayersArray","newPlayersArray","result","idx","oldCategories","keys","diff","filter","addEventListener","onVisibilityChange","removeEventListener","document","visibilityState","isAppBadgeAvailable","clearAppBadge","setAppBadge","WebSocket","close","onmessage","event","JSON","parse","Action","indexOf","Data","Provider","Content","App","localStorage","getItem","setName","newName","setItem","exact","path","tracking","ReactGA","initialize","pageview","pathname","search","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b5ddf2b4.chunk.js","sourcesContent":["import \"./Button.css\"\nimport \"./Clickable.css\"\n\nexport const Button = ({ text, onClick, small, secondary, disabled }) => (\n  <button\n    className={`Clickable${small ? \" Small\" : \"\"}${secondary ? \" Secondary\" : \"\"}`}\n    onClick={onClick}\n    disabled={disabled}>\n    {text}\n  </button>)","export const baseUri = \"api.dajsz.hu\"\n\nconst b64EncodeUnicode = (str) => {\n  // first we use encodeURIComponent to get percent-encoded UTF-8,\n  // then we convert the percent encodings into raw bytes which\n  // can be fed into btoa.\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\n    function toSolidBytes(match, p1) {\n      return String.fromCharCode(\"0x\" + p1)\n  }))\n}\n\nconst headers = (user) => (\n  new Headers({\n    \"Authorization\": \"Basic \" + b64EncodeUnicode(user + \":\"),\n  })\n)\n\nconst doNothing = (data) => { return }\n\nexport const create = (user) => (\n  fetch(\"https://\" + baseUri, {\n    method: \"POST\",\n    headers: headers(user),\n  })\n  .then((res) => {\n    if (res.status === 201) {\n      return res.headers.get(\"location\")\n    } else {\n      throw res\n    }\n  })\n)\n\nexport const load = (gameID, user, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/\" + gameID, {\n    headers: headers(user),\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 200) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n\nexport const join = (gameID, user, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/\" + gameID + \"/join\", {\n    method: \"POST\",\n    headers: headers(user),\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 201) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n\nexport const roll = (gameID, user, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/\" + gameID + \"/roll\", {\n    method: \"POST\",\n    headers: headers(user),\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 200) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n\nexport const lock = (gameID, user, diceIdx, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/\" + gameID + \"/lock/\" + diceIdx, {\n    method: \"POST\",\n    headers: headers(user),\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 200) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n\nexport const score = (gameID, user, category, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/\" + gameID + \"/score\", {\n    method: \"POST\",\n    headers: headers(user),\n    body: category,\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 200) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n\nexport const suggestions = (user, dices, onSuccess) => (\n  fetch(\"https://\" + baseUri + \"/score?dices=\" + dices.map(d => d.Value).join(\",\"), {\n    method: \"GET\",\n    headers: headers(user),\n  })\n  .then((res) => Promise.all([res.status, res.json()]))\n  .then(([code, body]) => {\n    if (code === 200) {\n      (onSuccess || doNothing)(body)\n    } else {\n      throw (code, body)\n    }\n  })\n)\n","import { useContext } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./App\"\nimport { Button } from \"./Button\"\nimport \"./Home.css\"\nimport \"./App.css\"\n\nimport { create } from \"./Yahtzee/api\"\n\nconst Home = () => {\n  const { name } = useContext(AppContext)\n  const history = useHistory()\n\n  const handleClickOnNewGame = () => {\n    create(name)\n      .then(gameId => history.push(gameId.substring(1)))\n  }\n\n  return (\n    <div className=\"Home\">\n      <div className=\"Main\">\n        <Button text=\"New Game\" onClick={handleClickOnNewGame} />\n      </div>\n      <div className=\"Footer\">\n        <ul>\n          <li><Link to=\"/privacy\">Privacy</Link></li>\n          <li><Link to=\"/support\">Support</Link></li>\n        </ul>\n      </div>\n    </div>)\n}\n\nexport default Home","import { Link } from \"react-router-dom\"\n\nimport \"./App.css\"\n\nconst Privacy = () => (\n  <div className=\"Main\">\n    <Link to=\"/\">← Go back</Link>\n    <p>\n      Dajsz and it's integrations are not storing any personal information, there\n      is no permanent storage behind the service - all data created gets removed\n      after 48 hours at the latest. You can check it for yourself - all code\n      is available for the public:\n    </p>\n\n    <ul>\n      <li><a href=\"https://github.com/akarasz/dajsz\">Dajsz</a></li>\n      <li><a href=\"https://github.com/akarasz/dajsz-slack\">Slack integration</a></li>\n      <li><a href=\"https://github.com/akarasz/yahtzee\">Backend</a></li>\n    </ul>\n\n    <p>\n      Dajsz uses Google Analytics for usage metrics. If you want to learn\n      more about Google's privacy policy then you should head over\n      <a href=\"https://support.google.com/analytics/answer/6004245\"> there</a>.\n    </p>\n  </div>\n)\n\nexport default Privacy","import { Link } from \"react-router-dom\"\n\nimport \"./App.css\"\n\nconst Support = () => (\n  <div className=\"Main\">\n    <Link to=\"/\">← Go back</Link>\n    <p>\n      If you have questions or concerns about Dajsz you can reach out at\n      <a href=\"mailto:support@dajsz.hu\"> support@dajsz.hu</a>. If you found\n      any bugs or issues you can report them\n      <a href=\"https://github.com/akarasz/dajsz/issues\"> here</a>.\n    </p>\n  </div>\n)\n\nexport default Support","import \"./Modal.css\"\n\nconst Modal = ({ showing, handleClose, children }) => {\n  if (!showing) {\n    return null\n  }\n\n  return (\n    <div className=\"Modal\" onClick={handleClose}>\n      <div onClick={(e) => e.stopPropagation()}>\n        <div className=\"Dialog\">\n          {children}\n        </div>\n      </div>\n   </div>)\n}\n\nexport default Modal","import { useContext, useState } from \"react\"\n\nimport { Context as AppContext } from \"./../App\"\nimport { Button } from \"./../Button\"\n\nimport Modal from \"./../Modal\"\n\nconst NameChangeModal = ({ show, handleClose }) => {\n  const { name, changeName } = useContext(AppContext)\n\n  const [input, setInput] = useState(name)\n\n  const updateInput = (e) => {\n    setInput(e.target.value)\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleSave()\n    } else if (e.key === \"Escape\") {\n      handleCancel()\n    }\n  }\n\n  const handleCancel = () => {\n    setInput(name)\n\n    if (name === null || name.trim() === \"\") {\n      return\n    }\n\n    handleClose()\n  }\n\n  const handleSave = () => {\n    if (input === null || input.trim() === \"\") {\n      return\n    }\n\n    changeName(input.trim())\n    handleClose()\n  }\n\n  return (\n    <Modal showing={show} handleClose={handleCancel}>\n      <p>Please enter your name:</p>\n      <input autoFocus type=\"text\" value={input !== null ? input : \"\"} onChange={updateInput} onKeyDown={handleKeyPress} />\n      <div className=\"buttons\">\n        <Button small text=\"Save\"\n          onClick={handleSave}\n          disabled={input === null || input.trim() === \"\"} />\n        <Button small secondary text=\"Cancel\"\n          onClick={handleCancel}\n          disabled={name === null || name.trim() === \"\"} />\n      </div>\n    </Modal>)\n}\n\nexport default NameChangeModal","import { useContext, useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../App\"\nimport \"./../Clickable.css\"\n\nimport NameChangeModal from \"./NameChangeModal\"\nimport \"./Header.css\"\nimport logo from \"./logo.png\"\nimport share from \"./share.png\"\nimport clipboard from \"./clipboard.png\"\nimport copiedClipboard from \"./clipboard-copied.png\"\n\nconst Header = () => {\n  const [showModal, setShowModal] = useState(false)\n\n  const { name } = useContext(AppContext)\n\n  useEffect(() => {\n    if (name === null || name === \"\") {\n      setShowModal(true)\n    }\n  }, [name])\n\n  return (\n    <header>\n      <div className=\"Left\">\n        <Link to=\"/\" className=\"Clickable Title Item\">\n            <img src={logo} alt=\"logo\" />\n            <span>Dajsz</span>\n        </Link>\n      </div>\n      <div className=\"Right\">\n        <div className=\"Name Item\" onClick={() => setShowModal(true)}>\n          You play as <em className=\"Clickable\" title={name}>{name}</em>\n        </div>\n        <InviteButtonChooser />\n      </div>\n\n      <NameChangeModal show={showModal}\n        handleClose={() => setShowModal(false)} />\n    </header>)\n}\n\nconst InviteButtonChooser = () => {\n  if (navigator.share) {\n    return <ShareButton />\n  } else if (navigator.clipboard) {\n    return <ClipboardButton />\n  } else {\n    return null\n  }\n}\n\nconst ShareButton = () => {\n  const handleClick = () => {\n    navigator.share({\n      title: \"Invited to Dajsz\",\n      text: \"Click to join: \",\n      url: window.location.href,\n    })\n      .then(() => console.log(\"shared\"))\n      .catch((error) => console.log(\"error sharing\", error))\n  }\n\n  return (\n    <div className=\"Clickable Share Item\" title=\"Share\" onClick={handleClick}>\n      <img src={share} alt=\"share\" />\n    </div>)\n}\n\nconst ClipboardButton = () => {\n  const [copied, setCopied] = useState(false)\n\n  useEffect(() => {\n    if (!copied) {\n      return\n    }\n\n    setTimeout(() => setCopied(false), 5000)\n  }, [copied])\n\n  const handleClick = () => {\n    navigator.clipboard\n      .writeText(window.location.href)\n      .then(() => setCopied(true))\n  }\n\n  const image = copied ? copiedClipboard : clipboard\n\n  return (\n    <div className=\"Clickable Share Item\" title=\"Share\" onClick={handleClick}>\n      <img src={image} alt=\"share\" />\n    </div>)\n}\n\nexport default Header","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAE30lEQVR4nO3cPa8UZRiH8Y12xFAYX8DvICbkJOZESgoa7dSCL2BjQm2oCIEOLCloiGglhkQLP4QJiVpARUFCA5UkiJFwWZybzLr7zM7sM+8z1z95GnI/L7P3b4ZzdhdWK2OMmXWA88CFPcf5oc9tWghwCnjF/nkFfDj0+U3DAHcymv86Pw59ftMgDe5+nwJzSMO736fAlAN8VHL33wPulox7JU+BU0Nfj9kzwE+JZj4HTuyYcxL4OzHvTp9nNw2z4+6/XmPutz4FJp6cu39trk+BKafJ3b+2hk+BMSbuzoOK8Uvu3b+2z4mYs5mfa+x/ssvXYNEBLiaaUifXMva6nrnXxS6u3ayyATwH3s/Yq+wpIIChkglg6+7n6MOh7zbG1oc/5D0FBNBVMgAk737gWk0oOU+BZQMAjgHvdDSuJF7wF8DTknG15Iy1AETt1R3rv0isc6XD6z/WbfdaCHA58aJ0mdsZZ6wNoGKd2z1f6+V9z9h7EECXEUAiOQDOAt9sjLMZ6whgM0wAQIvXKoDNIIAuM1kAN4G3WhiXEmuPDcCllq715pwA3Ghp7dT7AGMD0Mr7AMANAWyvLYCxRwACEEA7a88bAHAGuL/neDIBAE8yrutMYu3ZAziXqMvJ2ADk5FxibQHUjADGFASQEwE0iADGFJoBeBR/XjZuJeY8Bn4daDxOnOdWxTU8SswRQOR+xdq5XwrtMzt/DeTop/7NCCAigKJOAIk5Ahh7EIAAEgdvC8Bp4KuRj9MV1yCAqNsbwBwigKJOAAIQgAAEIAABCEAA23UCmGMEUNQJQAACEIAABCAAAQhgu04Ac4wAijoBCEAAApgJAOAQeLNGnQCibjYAgM+Bf4HvqxAIoKibBYC15r/OD7sQCKComzyARPMrEQigqJs0gB3NB/gTeLtkngCibrIAajT/vR1zBRB1kwTQpPkxXwBRNzkAwBdNmh9rCCDqJgWgjebHOgKIuskAaKv5sZYAom4SANpsfqwngKgbPYC2mx9rCiDqRg2gRvPfzVxXAFE3WgBdNT/WFkDUjRJANP9lF82P9QUQdaMD0HXzYw8BRN2oAPTR/NhHAFE3GgB9NT/2EkDUNQYAfAx80PC8vTU/9hNA1DUCAHwC/AU8yEVQ0fw/2m5+7CmAqMsGEM1/tjZvbwTAl303P/YVQNRlAeDov5l/lphbG8FQzY+9BRB1uQA+Bf4paV4lgiGbH/sLIOqa/BXwWQ6CoZsfZxBA1DX9IXAvBGNofpxDAFHXxq+BtRCMpflxFgFEXStvBNVA8PWO5v/eZ/PjvAKIutbeCaxAUJbemx9nFUDUtfpW8J4IBml+nFMAUdf6ZwE1EQzW/DijAKKukw+DKhAM2vw4nwCirrNPA0sQDN78OJsAoq7Tj4M3EIyi+auVANbrOv8+QCD4bSzNX60EsF7XyxdCgDfaXrNJBFDUjeYbQX1GAEWdAAQgAAEIQAACEIAAtusEMMcIoKgTgAAEIAABCEAAAhDAdp0A5hgBFHUCEIAABCAAAQhAAALYrhPAHCOAok4AAhCAAP6fl8DTmY/Uv1QWwMIjgIVHAAuPABaeRQI4Dhw4OACOJ16feQMwuyOAhUcAC48AFp65AXgI3HXsNR7OCYBpJwJYeASw8Ahg4ZkEgEPggqOTcTh0f40xc8p/D9I2H1o6R5AAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADcElEQVR4nO3aMUvcYByA8ZulOBWqH6IWxEVwdPA7+AU6OhcnEd20o4OL1LEWoR36LVzdHAQXna2D+HTwJHJ5c3d5k9wlb54H3qX8815y+SW02sHAzCzpgG1gp+Tanvd5Ww0BK8AL5XsBPs/7/K1iwEXEzX/r57zP3ypU4en3LZBCFZ9+3wJdDvhS8PRfAZcF66rgLbAy7+uxkgG/AjfzEVgac8wy8C9w3MUsz90qNubpP57i2O++BTpezNP/7ljfAl2uytP/bg/fAm1s+HSuTVh/Yp/+d5+zNDxmtN9TfP5yk99BrwN2Azdlmo4iPus48rN2m7h2G0QDeAQ+RXxW0VtAAPMqEkDu6ef1l0M/Rlbulz/EvQUE0FQRAIJPP3A0JZSYt0C/AQALwMeG1kHgC38CHgrWYcE5TgVgOHs4Zv+nwD4HDV7/QrN3r4aA/cCX0mTnEec4NYAJ+5zP+Fr3y57jzEMATSaAQDEANoFvI2szYh8BjEYHANR4rQIYDQE0WWcBnAIfalh7gb3bBmCvpms9TQnASU17h34O0DYAtfwcADgRQH5vAbQ9AQhAAPXsnTYAYAO4LrnuOwDgPuK6NgJ7Jw9gKzAXU9sAxLQV2FsAUyaANoUAYhJAhQTQpqgG4Hb450XrLHDMHfB3TusucD5nE67hNnCMAIZdT9g79j+FzrKx/wzk9W/9owlgmACyOQEEjhFA20MAAgiceF0AVoGvLV+rE65BAMO50gBSSADZnAAEIAABCEAAAhCAAPJzAkgxAWRzAhCAAAQgAAEIQAACyM8JIMUEkM0JQAACEIAABCAAAQggPyeAFBNANicAAQhAAAIQgAAEIID8nABSTADZnAAEIAABCEAAAhCAAPJzAkgxAWRzAhCAAAQgAAEIQAACyM8JIMUEkM0JQAACEIAABCAAAQggPyeAFBNANicAAQhAAAIQgAAEIID8nABSTADZnAAEIAABCEAAAhCAAPJzAkgxAWRzAhCAAAQgAAEIQAACyM8JIMUEkM0JQAACEIAABCAAAQggPyeAFBNANicAAQhAAAIQgAAE8NYz8JD4ehbAoBBAXxNAzxNAzxNAz+slgEVgzcUasBj4ftIGYOMTQM8TQM8TQM9LDcANcOkqtW5SAmD1JICeJ4CeJ4Ce1wkA68COq5G1Pu/7a2Yp9R8he/wsH62GxwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import { useContext } from \"react\"\nimport { useParams } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../App\"\nimport { Button } from \"./../Button\"\n\nimport { roll } from \"./api\"\nimport { Context as YahtzeeContext } from \"./Yahtzee\"\nimport \"./Controller.css\"\n\nconst Controller = () => (\n  <div className=\"Controller\">\n    <RollCount />\n    <RollButton />\n  </div>\n)\n\nconst RollCount = () => {\n  const { game: { RollCount }} = useContext(YahtzeeContext)\n\n  return (\n    <div className=\"RollCounter\" data-roll={RollCount}>\n      <div /><div /><div />\n    </div>)\n}\n\nconst RollButton = () => {\n  const { name } = useContext(AppContext)\n  const { rolling, game: { Players, CurrentPlayer, RollCount, Round } } = useContext(YahtzeeContext)\n  const { gameId } = useParams()\n\n  const myTurn = Players.length > 0 && Players[CurrentPlayer].User === name\n  const afterLastRoll = RollCount >= 3\n  const afterLastRound = Round >= 13\n\n  const clickable = myTurn && !afterLastRoll && !afterLastRound && !rolling\n\n  const handleRoll = () => {\n    roll(gameId, name)\n  }\n\n  if (clickable) {\n    return <Button text=\"Roll\" onClick={handleRoll} />\n  } else {\n    return <Button text=\"Roll\" disabled />\n  }\n}\n\nexport default Controller","import { useContext, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../App\"\nimport \"./../Clickable.css\"\n\nimport { score, suggestions as getSuggestions } from \"./api\"\nimport { Context as YahtzeeContext } from \"./Yahtzee\"\nimport \"./Scores.css\"\n\nconst UPPER_SECTION = [\n  { id: \"ones\", title: \"Aces\" },\n  { id: \"twos\", title: \"Deuces\" },\n  { id: \"threes\", title: \"Threes\" },\n  { id: \"fours\", title: \"Fours\" },\n  { id: \"fives\", title: \"Fives\" },\n  { id: \"sixes\", title: \"Sixes\" },\n]\n\nconst CATEGORIES = [\n  ...UPPER_SECTION,\n  { id: \"bonus\", title: \"Bonus\" },\n  { id: \"three-of-a-kind\", title: \"Three of a kind\" },\n  { id: \"four-of-a-kind\", title: \"Four of a kind\" },\n  { id: \"full-house\", title: \"Full House\" },\n  { id: \"small-straight\", title: \"Small Straight\" },\n  { id: \"large-straight\", title: \"Large Straight\" },\n  { id: \"yahtzee\", title: \"Yahtzee\" },\n  { id: \"chance\", title: \"Chance\" },\n]\n\nconst transformData = (players, suggestions, currentPlayer, dices) => {\n  // set scores from score sheet\n  const data = CATEGORIES.map(category => {\n    return {\n      content: players.map(player => {\n        return {\n          scored: player.ScoreSheet[category.id]\n        }\n      }),\n      ...category\n    }\n  })\n\n  if (players.length === 0) {\n    return data\n  }\n\n  // add hints for current player's column\n  data.forEach((row, i) => {\n    if (row.content[currentPlayer][\"scored\"] === undefined && suggestions[row.id] !== undefined) {\n      data[i].content[currentPlayer][\"suggestion\"] = suggestions[row.id]\n    }\n  })\n\n  // set bonus row (6th one in data)\n  data[6].content.forEach((current, i) => {\n    if (current[\"scored\"] !== undefined) {\n      return\n    }\n\n    const total = UPPER_SECTION\n      .map(c => c.id)\n      .map(id => players[i].ScoreSheet[id] || 0)\n      .reduce((a, b) => a + b, 0)\n    const left = 63 - total || 63\n\n    current[\"hint\"] = \"need \" + left + \" more\"\n  })\n\n  return data\n}\n\nconst Scores = () => {\n  const { name } = useContext(AppContext)\n  const { game: { Dices, RollCount, Players, CurrentPlayer }, rolling, lastScore, setLastScore } = useContext(YahtzeeContext)\n  const [suggestions, setSuggestions] = useState({})\n\n  useEffect(() => { // load suggestions\n    if (rolling || !Players || Players.length === 0) {\n      return\n    }\n\n    const rolledAlready = RollCount > 0\n    const activeTurn = Players[CurrentPlayer].User === name\n\n    if (activeTurn && rolledAlready) {\n      getSuggestions(name, Dices, setSuggestions)\n    } else {\n      setSuggestions({})\n    }\n  }, [rolling, RollCount, Players, CurrentPlayer]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => { // handle stopping blinking last score\n    if (!lastScore) {\n      return\n    }\n\n    setTimeout(() => setLastScore(null), 2000)\n  }, [lastScore, setLastScore])\n\n  return (\n    <div className=\"Scores\">\n      <table>\n        <thead>\n          <ScoresHeader />\n        </thead>\n        <tbody>\n          {transformData(Players, suggestions, CurrentPlayer, Dices).map((row, i) => (\n            <ScoreLine key={i}\n              highlight={CurrentPlayer}\n              blink={lastScore?.category?.includes(row.id) ? (lastScore.user !== CurrentPlayer ? lastScore.user : undefined) : undefined}\n              {...row} />)\n          )}\n          <tr>\n            <td>Total</td>\n            {Players.map((p, i) => {\n              let total = 0\n              Object.entries(p.ScoreSheet).forEach(([c, v]) => total += v)\n              return <td key={i}>{total}</td>\n            })}\n          </tr>\n        </tbody>\n      </table>\n    </div>)\n}\n\nconst ScoresHeader = () => {\n  const { game: { Players, Round }} = useContext(YahtzeeContext)\n\n  let isWinner = []\n  if (Round >= 13) {\n    const total = Players\n        .map(p => p.ScoreSheet)\n        .map(scores => Object.values(scores).reduce((a, b) => a + b, 0))\n\n    const max = Math.max(...total)\n\n    isWinner = total\n        .map(s => s === max)\n  }\n\n  return (\n    <tr>\n      <th/>\n      {Players.map((p, i) => {\n        return <th key={i} className={isWinner[i] ? \"Winner\" : \"\"}>{p.User}</th>\n      })}\n    </tr>\n  )\n}\n\nconst ScoreLine = ({ title, id, content, highlight, blink }) => {\n  return (\n    <tr>\n      <td>{title}</td>\n      {content.map((cell, i) => <ScoreCell key={i}\n        category={id}\n        highlight={i === highlight}\n        blink={i === blink}\n        {...cell} />)}\n    </tr>)\n}\n\nconst ScoreCell = ({ category, scored, suggestion, hint, highlight, blink }) => {\n  const { name } = useContext(AppContext)\n  const { gameId } = useParams()\n\n  if (suggestion !== undefined) {\n    return (\n      <td\n        className={`Suggestion Clickable${highlight ? \" Highlighted\" : \"\"}${blink ? \" Blinking\" : \"\"}`}\n        onClick={() => score(gameId, name, category)}>{suggestion}</td>)\n  } else if (hint !== undefined) {\n    return (\n      <td\n        className={`Suggestion${highlight ? \" Highlighted\" : \"\"}${blink ? \" Blinking\" : \"\"}`}>{hint}</td>)\n  } else {\n    return <td className={`${highlight ? \"Highlighted\" : \"\"}${blink ? \" Blinking\" : \"\"}`}>{scored}</td>\n  }\n}\n\nexport default Scores\n","import { useContext, useEffect } from \"react\"\nimport { useParams } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../App\"\nimport { Button } from \"./../Button\"\nimport Modal from \"./../Modal\"\n\nimport { Context as YahtzeeContext } from \"./Yahtzee\"\nimport { join } from \"./api\"\n\nconst JoinModal = ({ show, setShow }) => {\n  const { name } = useContext(AppContext)\n  const { updateGame, game } = useContext(YahtzeeContext)\n  const { gameId } = useParams()\n\n  useEffect(() => { // handle offering to join\n    if (game === null || name === null || name === \"\") {\n      return\n    }\n\n    const startedAlready = game.RollCount + game.CurrentPlayer + game.Round > 0\n    if (startedAlready) {\n      return\n    }\n\n    const hasPlayers = game.Players.length > 0\n    const joinedAlready = game.Players.map((p) => p.User).includes(name)\n\n    if (!hasPlayers) {\n      join(gameId, name, updateGame)\n    } else if (!joinedAlready) {\n      setShow(true)\n    }\n  }, [game?.Players.length, gameId, name]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleYes = () => {\n    join(gameId, name, updateGame)\n    setShow(false)\n  }\n\n  const handleNo = () => {\n    setShow(false)\n  }\n\n  return (\n    <Modal showing={show} handleClose={handleNo}>\n      <p>Do you want to join as <em>{name}</em> ?</p>\n      <div className=\"buttons\">\n        <Button small text=\"Yes\" onClick={handleYes} />\n        <Button small secondary text=\"No\" onClick={handleNo} />\n      </div>\n    </Modal>)\n}\n\nexport default JoinModal","import { useContext, useEffect } from \"react\"\nimport { useParams } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../../App\"\nimport \"./../../Clickable.css\"\n\nimport { lock } from \"./../api\"\nimport { Context as YahtzeeContext } from \"./../Yahtzee\"\n\nimport \"./Dices.css\"\n\nconst Dices = () => {\n  const { game: { Dices }, rolling, setRolling } = useContext(YahtzeeContext)\n\n  useEffect(() => { // handle stopping roll animation\n    if (!rolling) {\n      return\n    }\n\n    setTimeout(() => setRolling(false), 200)\n  }, [rolling, setRolling])\n\n\n  return (\n    <div className=\"Dices\">\n      {Dices.map((dice, i) => {\n        return <Dice key={i}\n          index={i}\n          dice={dice} />\n      })}\n    </div>)\n}\n\nconst Dice = ({ dice, index }) => {\n  const { name } = useContext(AppContext)\n  const { rolling, game: { Players, CurrentPlayer, RollCount } } = useContext(YahtzeeContext)\n  const { gameId } = useParams()\n\n  const myTurn = Players.length > 0 && Players[CurrentPlayer].User === name\n  const beforeFirstRoll = RollCount <= 0\n  const afterLastRoll = RollCount >= 3\n\n  const clickable = myTurn && !beforeFirstRoll && !afterLastRoll && !rolling\n\n  const handleLock = () => {\n    if (clickable) {\n      lock(gameId, name, index)\n    }\n  }\n\n  const classes = [\"Dice\"]\n  if (rolling && !dice.Locked) {\n    classes.push(\"Rolling\")\n  } else {\n    classes.push(\"Face-\" + dice.Value)\n  }\n  if (dice.Locked) {\n    classes.push(\"Locked\")\n  }\n  if (clickable) {\n    classes.push(\"Clickable\")\n  }\n\n  return <div className={classes.join(\" \")} onClick={handleLock} />\n}\n\nexport default Dices","import { createContext, useContext, useState, useEffect, useRef } from \"react\"\nimport { useParams } from \"react-router-dom\"\n\nimport { Context as AppContext } from \"./../App\"\n\nimport { baseUri, load } from \"./api\"\nimport Controller from \"./Controller\"\nimport Scores from \"./Scores\"\nimport JoinModal from \"./JoinModal\"\nimport \"./Yahtzee.css\"\n\nimport Dices from \"./Dices/Dices\"\n\nexport const Context = createContext({})\n\nconst Yahtzee = () => {\n  const { name } = useContext(AppContext)\n\n  const { gameId } = useParams()\n\n  const [game, setGame] = useState(null)\n\n  const [showJoinModal, setShowJoinModal] = useState(false)\n  const [rolling, setRolling] = useState(false)\n  const [lastScore, setLastScore] = useState(null)\n\n  const ws = useRef(null)\n\n  const updateGame = (fresh) => {\n    setGame(current => { return { ...current, ...fresh } })\n  }\n\n  const scoreSheetDiff = (oldPlayersArray, newPlayersArray) => {\n    const result = {}\n\n    newPlayersArray.map((p) => p.User).forEach((user, idx) => {\n      const oldCategories = Object.keys(oldPlayersArray[idx].ScoreSheet)\n      const newCategories = Object.keys(newPlayersArray[idx].ScoreSheet)\n      const diff = newCategories.filter((c) => !oldCategories.includes(c))\n\n      result[user] = diff\n    })\n\n    return result\n  }\n\n  useEffect(() => { // handle clearing notification on focus\n    window.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () => {\n      window.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    };\n  });\n\n  const onVisibilityChange = () => {\n    if (document.visibilityState === \"visible\" && isAppBadgeAvailable()) {\n      navigator.clearAppBadge()\n    }\n  }\n\n  const isAppBadgeAvailable = () => {\n    return (typeof navigator.clearAppBadge === \"function\" && typeof navigator.setAppBadge === \"function\")\n  }\n\n  useEffect(() => { // handle game loading\n    setGame(null)\n\n    load(gameId, name, (data) => {\n      updateGame(data)\n    })\n  }, [gameId]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => { // handle websocket creation\n    if (gameId === null) {\n      return\n    }\n\n    ws.current = new WebSocket(\"wss://\" + baseUri + \"/\" + gameId + \"/ws\")\n\n    return () => {\n      ws.current.close();\n    }\n  }, [gameId])\n\n  useEffect(() => { // handle websocket onevent\n\n    if (!ws.current) {\n      return\n    }\n\n    ws.current.onmessage = (e) => {\n      const event = JSON.parse(e.data)\n      if (event.Action === \"roll\") {\n        setRolling(true)\n      } else if (event.Action === \"score\") {\n        setLastScore({\n          user: game.Players.map(p => p.User).indexOf(event.User),\n          category: scoreSheetDiff(game.Players, event.Data.Players)[event.User],\n        })\n        if (isAppBadgeAvailable()) {\n          if (event.Data.Players[event.Data.CurrentPlayer].User === name) {\n            navigator.setAppBadge();\n          } else {\n            navigator.clearAppBadge();\n          }\n        }\n      }\n\n      updateGame(event.Data)\n    }\n  }, [game?.Players, name])\n\n  if (game === null) {\n    return null\n  }\n\n  return (\n    <Context.Provider value={{ game, updateGame, rolling, setRolling, lastScore, setLastScore }}>\n      <div className=\"Yahtzee\">\n        <Dices />\n        <Controller />\n        <Scores\n          lastScore={lastScore} />\n      </div>\n      <JoinModal\n        show={showJoinModal}\n        setShow={setShowJoinModal} />\n    </Context.Provider>)\n}\n\nexport default Yahtzee\n","import { createContext, useState } from \"react\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\n\nimport Home from \"./Home\"\nimport Privacy from \"./Privacy\"\nimport Support from \"./Support\"\n\nimport \"./App.css\"\n\nimport Header from \"./Header/Header\"\n\nimport Yahtzee from \"./Yahtzee/Yahtzee\"\n\nexport const Context = createContext({})\n\nconst App = () => {\n  const [name, setName] = useState(window.localStorage.getItem(\"name\") || null)\n\n  const changeName = (newName) => {\n    window.localStorage.setItem(\"name\", newName)\n    setName(newName)\n  }\n\n  return (\n    <Context.Provider value={{name, changeName}}>\n      <Router>\n        <Header />\n        <Content>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route exact path=\"/privacy\">\n              <Privacy />\n            </Route>\n            <Route exact path=\"/support\">\n              <Support />\n            </Route>\n            <Route path=\"/:gameId\">\n              <Yahtzee />\n            </Route>\n          </Switch>\n        </Content>\n      </Router>\n    </Context.Provider>\n  )\n}\n\nconst Content = ({ children }) => (\n  <div className=\"Content\">\n    {children}\n  </div>)\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport ReactGA from \"react-ga\"\n\nimport App from \"./App\"\nimport \"./index.css\"\n\nif (window.tracking) {\n  ReactGA.initialize(window.tracking)\n  ReactGA.pageview(window.location.pathname + window.location.search)\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)"],"sourceRoot":""}